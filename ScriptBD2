-- Generated by Oracle SQL Developer Data Modeler 4.0.2.840
--   at:        2015-04-22 12:19:32 CST
--   site:      SQL Server 2008
--   type:      SQL Server 2008




CREATE
  TABLE Archivos
  (
    id_archivo                  INTEGER NOT NULL ,
    archivo                     BINARY NOT NULL ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT Archivos_PK PRIMARY KEY CLUSTERED (id_archivo)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Beneficiario
  (
    id_beneficiario INTEGER NOT NULL ,
    nombre TEXT NOT NULL ,
    telefono TEXT NOT NULL ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT Beneficiario_PK PRIMARY KEY CLUSTERED (id_beneficiario)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Bien
  (
    id_bien INTEGER NOT NULL ,
    nombre TEXT NOT NULL ,
    monto BIGINT ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT Bien_PK PRIMARY KEY CLUSTERED (id_bien)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Cliente
  (
    id              INTEGER NOT NULL ,
    nombre          VARCHAR (50) NOT NULL ,
    domicilio       VARCHAR (75) NOT NULL ,
    Tipo_Cliente_id INTEGER NOT NULL ,
    Pais_id_pais    INTEGER NOT NULL ,
    CONSTRAINT Cliente_PK PRIMARY KEY CLUSTERED (id)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Cobertura
  (
    id_cobertura INTEGER NOT NULL ,
    descripcion TEXT ,
    monto                       DECIMAL (28) NOT NULL ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT Cobertura_PK PRIMARY KEY CLUSTERED (id_cobertura)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Condiciones
  (
    id_cond INTEGER NOT NULL ,
    condicion TEXT NOT NULL ,
    Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    CONSTRAINT Condiciones_PK PRIMARY KEY CLUSTERED (id_cond)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Condiciones_Generales
  (
    id_cg INTEGER NOT NULL ,
    condicion TEXT NOT NULL ,
    CONSTRAINT Condiciones_Generales_PK PRIMARY KEY CLUSTERED (id_cg)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Condiciones_Particulares
  (
    id_cp INTEGER NOT NULL ,
    condicion TEXT NOT NULL ,
    CONSTRAINT Condiciones_Particulares_PK PRIMARY KEY CLUSTERED (id_cp)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Departamento
  (
    id_dep INTEGER NOT NULL ,
    nombre VARCHAR (50) NOT NULL ,
    CONSTRAINT Departamento_PK PRIMARY KEY CLUSTERED (id_dep)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Detalle_Pago
  (
    id_detalle            INTEGER NOT NULL ,
    fecha                 DATE NOT NULL ,
    numero_cuota          INTEGER NOT NULL ,
    Plan_de_Pagos_id_plan INTEGER NOT NULL ,
    CONSTRAINT Detalle_Pago_PK PRIMARY KEY CLUSTERED (id_detalle)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Empleado
  (
    id_emp INTEGER NOT NULL ,
    nombre TEXT ,
    telefono TEXT ,
    Tipo_Empleado_id_te INTEGER NOT NULL ,
    Oficina_id_oficina  VARCHAR (5) NOT NULL ,
    CONSTRAINT Empleado_PK PRIMARY KEY CLUSTERED (id_emp)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Estado_Poliza
  (
    id_estado INTEGER NOT NULL ,
    estado    VARCHAR (25) NOT NULL ,
    CONSTRAINT Estado_Poliza_PK PRIMARY KEY CLUSTERED (id_estado)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Fotografia
  (
    id_foto INTEGER NOT NULL ,
    nombre TEXT NOT NULL ,
    Bien_id_bien INTEGER NOT NULL ,
    CONSTRAINT Fotografia_PK PRIMARY KEY CLUSTERED (id_foto)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Inspeccion
  (
    id_inspeccion               INTEGER NOT NULL ,
    Empleado_id_emp             INTEGER NOT NULL ,
    fecha                       DATE NOT NULL ,
    Bien_id_bien                INTEGER NOT NULL ,
    aprobado                    VARCHAR (2) ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT Inspeccion_PK PRIMARY KEY CLUSTERED (id_inspeccion)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Moneda
  (
    id_moneda INTEGER NOT NULL ,
    moneda TEXT ,
    CONSTRAINT Moneda_PK PRIMARY KEY CLUSTERED (id_moneda)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Oficina
  (
    id_oficina          VARCHAR (5) NOT NULL ,
    nombre              VARCHAR (50) ,
    Departamento_id_dep INTEGER NOT NULL ,
    CONSTRAINT Oficina_PK PRIMARY KEY CLUSTERED (id_oficina)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Pais
  (
    id_pais INTEGER NOT NULL ,
    pais TEXT NOT NULL ,
    CONSTRAINT Pais_PK PRIMARY KEY CLUSTERED (id_pais)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Plan_de_Pagos
  (
    id_plan INTEGER NOT NULL ,
    prima BIGINT NOT NULL ,
    numero_cuotas INTEGER NOT NULL ,
    recargo BIGINT NOT NULL ,
    pago_cuota BIGINT NOT NULL ,
    Moneda_id_moneda            INTEGER NOT NULL ,
    numero_cuotas_atrasadas     INTEGER NOT NULL ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT Plan_de_Pagos_PK PRIMARY KEY CLUSTERED (id_plan)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO
CREATE UNIQUE NONCLUSTERED INDEX
Plan_de_Pagos__IDX ON Plan_de_Pagos
(
  Poliza_Tipo_de_seguro_id_ts ,
  Poliza_id_poliza
)
ON "default"
GO

CREATE
  TABLE Poliza
  (
    id_poliza                      INTEGER NOT NULL ,
    Estado_Poliza_id_estado        INTEGER NOT NULL ,
    Condiciones_Particulares_id_cp INTEGER NOT NULL ,
    fecha_inicio                   DATE NOT NULL ,
    fecha_fin                      DATE NOT NULL ,
    clausulas TEXT NOT NULL ,
    Cliente_id           INTEGER NOT NULL ,
    Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Empleado_id_emp      INTEGER NOT NULL ,
    poliza_vieja         VARCHAR NOT NULL ,
    meses                INTEGER NOT NULL ,
    producto_descripcion TEXT ,
    Empleado_id_emp3 INTEGER NOT NULL ,
    Empleado_id_emp1 INTEGER NOT NULL ,
    status           VARCHAR (15) NOT NULL ,
    CONSTRAINT Poliza_PK PRIMARY KEY CLUSTERED (Tipo_de_seguro_id_ts, id_poliza
    )
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE "Poliza_-_Condicion"
  (
    Condiciones_Generales_id_cg INTEGER NOT NULL ,
    descripion TEXT NOT NULL ,
    Poliza_Tipo_de_seguro_id_ts VARCHAR (5) NOT NULL ,
    Poliza_id_poliza            INTEGER NOT NULL ,
    CONSTRAINT "Poliza_-_Condicion_PK" PRIMARY KEY CLUSTERED (
    Condiciones_Generales_id_cg, Poliza_Tipo_de_seguro_id_ts, Poliza_id_poliza)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Tipo_Cliente
  (
    id   INTEGER NOT NULL ,
    tipo VARCHAR (25) NOT NULL ,
    CONSTRAINT Tipo_Cliente_PK PRIMARY KEY CLUSTERED (id)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Tipo_Empleado
  (
    id_te INTEGER NOT NULL ,
    tipo TEXT ,
    CONSTRAINT Tipo_Empleado_PK PRIMARY KEY CLUSTERED (id_te)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Tipo_de_cambio
  (
    fecha DATE NOT NULL ,
    cambio BIGINT ,
    Moneda_id_moneda INTEGER NOT NULL ,
    CONSTRAINT Tipo_de_cambio_PK PRIMARY KEY CLUSTERED (fecha, Moneda_id_moneda
    )
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

CREATE
  TABLE Tipo_de_seguro
  (
    id_ts VARCHAR (5) NOT NULL ,
    tipo TEXT NOT NULL ,
    CONSTRAINT Tipo_de_seguro_PK PRIMARY KEY CLUSTERED (id_ts)
WITH
  (
    ALLOW_PAGE_LOCKS = ON ,
    ALLOW_ROW_LOCKS  = ON
  )
  ON "default"
  )
  ON "default"
GO

ALTER TABLE Archivos
ADD CONSTRAINT Archivos_Poliza_FK FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Beneficiario
ADD CONSTRAINT Beneficiario_Poliza_FK FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Bien
ADD CONSTRAINT Bien_Poliza_FK FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Cliente
ADD CONSTRAINT Cliente_Pais_FK FOREIGN KEY
(
Pais_id_pais
)
REFERENCES Pais
(
id_pais
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Cliente
ADD CONSTRAINT Cliente_Tipo_Cliente_FK FOREIGN KEY
(
Tipo_Cliente_id
)
REFERENCES Tipo_Cliente
(
id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Cobertura
ADD CONSTRAINT Cobertura_Poliza_FK FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Condiciones
ADD CONSTRAINT Condiciones_Tipo_de_seguro_FK FOREIGN KEY
(
Tipo_de_seguro_id_ts
)
REFERENCES Tipo_de_seguro
(
id_ts
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Detalle_Pago
ADD CONSTRAINT Detalle_Pago_Plan_de_Pagos_FK FOREIGN KEY
(
Plan_de_Pagos_id_plan
)
REFERENCES Plan_de_Pagos
(
id_plan
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Empleado
ADD CONSTRAINT Empleado_Oficina_FK FOREIGN KEY
(
Oficina_id_oficina
)
REFERENCES Oficina
(
id_oficina
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Empleado
ADD CONSTRAINT Empleado_Tipo_Empleado_FK FOREIGN KEY
(
Tipo_Empleado_id_te
)
REFERENCES Tipo_Empleado
(
id_te
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Fotografia
ADD CONSTRAINT Fotografia_Bien_FK FOREIGN KEY
(
Bien_id_bien
)
REFERENCES Bien
(
id_bien
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Inspeccion
ADD CONSTRAINT Inspeccion_Bien_FK FOREIGN KEY
(
Bien_id_bien
)
REFERENCES Bien
(
id_bien
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Inspeccion
ADD CONSTRAINT Inspeccion_Empleado_FK FOREIGN KEY
(
Empleado_id_emp
)
REFERENCES Empleado
(
id_emp
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Inspeccion
ADD CONSTRAINT Inspeccion_Poliza_FK FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Oficina
ADD CONSTRAINT Oficina_Departamento_FK FOREIGN KEY
(
Departamento_id_dep
)
REFERENCES Departamento
(
id_dep
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Plan_de_Pagos
ADD CONSTRAINT Plan_de_Pagos_Moneda_FK FOREIGN KEY
(
Moneda_id_moneda
)
REFERENCES Moneda
(
id_moneda
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Plan_de_Pagos
ADD CONSTRAINT Plan_de_Pagos_Poliza_FK FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE "Poliza_-_Condicion"
ADD CONSTRAINT "Poliza_-_Condicion_Condiciones_Generales_FK" FOREIGN KEY
(
Condiciones_Generales_id_cg
)
REFERENCES Condiciones_Generales
(
id_cg
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE "Poliza_-_Condicion"
ADD CONSTRAINT "Poliza_-_Condicion_Poliza_FK" FOREIGN KEY
(
Poliza_Tipo_de_seguro_id_ts,
Poliza_id_poliza
)
REFERENCES Poliza
(
Tipo_de_seguro_id_ts ,
id_poliza
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Cliente_FK FOREIGN KEY
(
Cliente_id
)
REFERENCES Cliente
(
id
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Condiciones_Particulares_FK FOREIGN KEY
(
Condiciones_Particulares_id_cp
)
REFERENCES Condiciones_Particulares
(
id_cp
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Empleado_FK FOREIGN KEY
(
Empleado_id_emp
)
REFERENCES Empleado
(
id_emp
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Empleado_FKv1 FOREIGN KEY
(
Empleado_id_emp1
)
REFERENCES Empleado
(
id_emp
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Empleado_FKv3 FOREIGN KEY
(
Empleado_id_emp3
)
REFERENCES Empleado
(
id_emp
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Estado_Poliza_FK FOREIGN KEY
(
Estado_Poliza_id_estado
)
REFERENCES Estado_Poliza
(
id_estado
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Poliza
ADD CONSTRAINT Poliza_Tipo_de_seguro_FK FOREIGN KEY
(
Tipo_de_seguro_id_ts
)
REFERENCES Tipo_de_seguro
(
id_ts
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO

ALTER TABLE Tipo_de_cambio
ADD CONSTRAINT Tipo_de_cambio_Moneda_FK FOREIGN KEY
(
Moneda_id_moneda
)
REFERENCES Moneda
(
id_moneda
)
ON
DELETE
  NO ACTION ON
UPDATE NO ACTION
GO


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            24
-- CREATE INDEX                             1
-- ALTER TABLE                             27
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE DATABASE                          0
-- CREATE DEFAULT                           0
-- CREATE INDEX ON VIEW                     0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE ROLE                              0
-- CREATE RULE                              0
-- CREATE PARTITION FUNCTION                0
-- CREATE PARTITION SCHEME                  0
-- 
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
